{"last_node_id":483,"last_link_id":801,"nodes":[{"id":31,"type":"CLIPVisionEncode","pos":[339.25013188968967,-32.15750307550526],"size":{"0":253.60000610351562,"1":50},"flags":{},"order":25,"mode":4,"inputs":[{"name":"clip_vision","type":"CLIP_VISION","link":47,"label":"CLIP视觉","slot_index":0},{"name":"image","type":"IMAGE","link":207,"label":"图像"}],"outputs":[{"name":"CLIP_VISION_OUTPUT","type":"CLIP_VISION_OUTPUT","links":[51],"shape":3,"label":"CLIP视觉输出","slot_index":0}],"properties":{"Node name for S&R":"CLIPVisionEncode"}},{"id":46,"type":"InpaintPreprocessor","pos":[-122.56844414466488,-131.53869217813582],"size":{"0":300,"1":50},"flags":{},"order":48,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":206,"label":"图像"},{"name":"mask","type":"MASK","link":217,"label":"遮罩"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[209],"shape":3,"label":"图像","slot_index":0}],"properties":{"Node name for S&R":"InpaintPreprocessor"}},{"id":78,"type":"Image scale to side","pos":[-2872.039450661662,109.74662028701648],"size":{"0":315,"1":130},"flags":{},"order":38,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":136,"label":"图像"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[143],"shape":3,"label":"图像","slot_index":0}],"properties":{"Node name for S&R":"Image scale to side"},"widgets_values":[1024,"Longest","nearest-exact","disabled"]},{"id":80,"type":"ImageToMask","pos":[-2872.039450661662,299.74662028701636],"size":{"0":315,"1":58},"flags":{},"order":42,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":143,"label":"图像"}],"outputs":[{"name":"MASK","type":"MASK","links":[213],"shape":3,"label":"遮罩","slot_index":0}],"properties":{"Node name for S&R":"ImageToMask"},"widgets_values":["red"]},{"id":117,"type":"GrowMask","pos":[-2872.039450661662,399.74662028701636],"size":{"0":315,"1":82},"flags":{},"order":46,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":213,"label":"遮罩"}],"outputs":[{"name":"MASK","type":"MASK","links":[217,218,322],"shape":3,"label":"遮罩","slot_index":0}],"properties":{"Node name for S&R":"GrowMask"},"widgets_values":[0,true]},{"id":76,"type":"MaskToImage","pos":[-2862.039450661662,19.746620287016427],"size":{"0":290,"1":30},"flags":{},"order":34,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":134,"label":"遮罩"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[136],"shape":3,"label":"图像","slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":429,"type":"Reroute","pos":[2350,-160],"size":[75,26],"flags":{},"order":18,"mode":0,"inputs":[{"name":"","type":"*","link":680,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[681,682],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":405,"type":"MaskToImage","pos":[2240,10],"size":{"0":210,"1":26},"flags":{},"order":43,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":629,"label":"遮罩"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[646],"shape":3,"label":"图像","slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":426,"type":"MaskToImage","pos":[3805.7128453125006,160],"size":{"0":210,"1":26},"flags":{},"order":51,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":693,"label":"遮罩"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[675],"shape":3,"label":"图像","slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":425,"type":"InvertMask","pos":[3815.7128453125006,-140],"size":{"0":200,"1":30},"flags":{},"order":40,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":678,"label":"遮罩"}],"outputs":[{"name":"MASK","type":"MASK","links":[688],"shape":3,"label":"遮罩","slot_index":0}],"properties":{"Node name for S&R":"InvertMask"}},{"id":434,"type":"Mask Erode Region","pos":[3810,-60],"size":{"0":210,"1":60},"flags":{},"order":44,"mode":0,"inputs":[{"name":"masks","type":"MASK","link":688,"label":"遮罩"}],"outputs":[{"name":"MASKS","type":"MASK","links":[691],"shape":3,"label":"遮罩","slot_index":0}],"properties":{"Node name for S&R":"Mask Erode Region"},"widgets_values":[20]},{"id":437,"type":"Mask Gaussian Region","pos":[3805.7128453125006,50],"size":{"0":210,"1":60},"flags":{},"order":47,"mode":0,"inputs":[{"name":"masks","type":"MASK","link":691,"label":"遮罩"}],"outputs":[{"name":"MASKS","type":"MASK","links":[693],"shape":3,"label":"遮罩","slot_index":0}],"properties":{"Node name for S&R":"Mask Gaussian Region"},"widgets_values":[10]},{"id":356,"type":"Note","pos":[1150,60],"size":{"0":250,"1":140},"flags":{},"order":0,"mode":0,"properties":{"text":""},"widgets_values":["I would go with the realisticVisionV60B1VAE model, it's too good for extended image!"],"color":"#432","bgcolor":"#653"},{"id":418,"type":"Note","pos":[285.93356202514616,1671.1874879296874],"size":{"0":310,"1":180},"flags":{},"order":1,"mode":0,"properties":{"text":""},"widgets_values":["Adjust the size of the outpaint via the ImagePadForOutpaint node"],"color":"#432","bgcolor":"#653"},{"id":33,"type":"StyleModelLoader","pos":[339.25013188968967,177.84249692449518],"size":{"0":315,"1":58},"flags":{},"order":2,"mode":4,"outputs":[{"name":"STYLE_MODEL","type":"STYLE_MODEL","links":[50],"shape":3,"label":"风格模型"}],"properties":{"Node name for S&R":"StyleModelLoader"},"widgets_values":["coadapter-style-sd15v1.pth"]},{"id":28,"type":"IPAdapterApply","pos":[771,-144],"size":{"0":315,"1":258},"flags":{},"order":26,"mode":0,"inputs":[{"name":"ipadapter","type":"IPADAPTER","link":42,"label":"IP适配","slot_index":0},{"name":"clip_vision","type":"CLIP_VISION","link":43,"label":"CLIP视觉","slot_index":1},{"name":"image","type":"IMAGE","link":211,"label":"图像"},{"name":"model","type":"MODEL","link":57,"label":"模型"},{"name":"attn_mask","type":"MASK","link":null,"label":"关注层遮罩"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[785],"shape":3,"label":"模型","slot_index":0}],"properties":{"Node name for S&R":"IPAdapterApply"},"widgets_values":[0.4,0.15,"original",0,1,false]},{"id":30,"type":"CLIPVisionLoader","pos":[779.7494506835938,169.7021484375],"size":{"0":300,"1":60},"flags":{},"order":3,"mode":0,"outputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","links":[43],"shape":3,"label":"CLIP视觉","slot_index":0}],"properties":{"Node name for S&R":"CLIPVisionLoader"},"widgets_values":["h94-IP-Adapter.bin"]},{"id":34,"type":"CLIPVisionLoader","pos":[339,68],"size":{"0":315,"1":58},"flags":{},"order":4,"mode":4,"outputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","links":[47],"shape":3,"label":"CLIP视觉"}],"properties":{"Node name for S&R":"CLIPVisionLoader"},"widgets_values":["pytorch_model.bin"]},{"id":29,"type":"IPAdapterModelLoader","pos":[780,280],"size":{"0":290,"1":60},"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[{"name":"IPADAPTER","type":"IPADAPTER","links":[42],"shape":3,"label":"IP适配","slot_index":0}],"properties":{"Node name for S&R":"IPAdapterModelLoader"},"widgets_values":["ip-adapter_sd15.bin"]},{"id":194,"type":"InvertMask","pos":[2499,-131],"size":{"0":210,"1":26},"flags":{},"order":50,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":322,"label":"遮罩"}],"outputs":[{"name":"MASK","type":"MASK","links":[700],"shape":3,"label":"遮罩","slot_index":0}],"properties":{"Node name for S&R":"InvertMask"}},{"id":191,"type":"Mask Contour","pos":[2506,100],"size":{"0":210,"1":26},"flags":{},"order":55,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":701,"label":"mask","slot_index":0}],"outputs":[{"name":"MASK","type":"MASK","links":[318],"shape":3,"label":"MASK","slot_index":0}],"properties":{"Node name for S&R":"Mask Contour"}},{"id":444,"type":"Mask Dilate Region","pos":[2496,-19],"size":{"0":210,"1":60},"flags":{},"order":53,"mode":0,"inputs":[{"name":"masks","type":"MASK","link":700,"label":"遮罩"}],"outputs":[{"name":"MASKS","type":"MASK","links":[701],"shape":3,"label":"遮罩","slot_index":0}],"properties":{"Node name for S&R":"Mask Dilate Region"},"widgets_values":[5]},{"id":22,"type":"ScaledSoftControlNetWeights","pos":[-129.71845189820485,73.08370073546386],"size":{"0":315,"1":102},"flags":{},"order":6,"mode":0,"outputs":[{"name":"CN_WEIGHTS","type":"CONTROL_NET_WEIGHTS","links":[26],"shape":3,"label":"ControlNet权重","slot_index":0},{"name":"TK_SHORTCUT","type":"TIMESTEP_KEYFRAME","links":[25],"shape":3,"label":"帧间隔","slot_index":1}],"properties":{"Node name for S&R":"ScaledSoftControlNetWeights"},"widgets_values":[0.825,false]},{"id":32,"type":"StyleModelApply","pos":[336,-144],"size":{"0":393,"1":66},"flags":{},"order":54,"mode":4,"inputs":[{"name":"conditioning","type":"CONDITIONING","link":708,"label":"条件","slot_index":0},{"name":"style_model","type":"STYLE_MODEL","link":50,"label":"风格模型","slot_index":1},{"name":"clip_vision_output","type":"CLIP_VISION_OUTPUT","link":51,"label":"CLIP视觉输出"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[783],"shape":3,"label":"条件","slot_index":0}],"properties":{"Node name for S&R":"StyleModelApply"}},{"id":18,"type":"ControlNetLoader","pos":[-132.56844414466488,-31.53869217813599],"size":{"0":315,"1":58},"flags":{},"order":7,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[22],"shape":3,"label":"ControlNet","slot_index":0}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["control_v11p_sd15_inpaint.pth"]},{"id":11,"type":"SetLatentNoiseMask","pos":[1650,410],"size":{"0":180,"1":50},"flags":{},"order":49,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":15,"label":"Latent"},{"name":"mask","type":"MASK","link":218,"label":"遮罩"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[786],"shape":3,"label":"Latent","slot_index":0}],"properties":{"Node name for S&R":"SetLatentNoiseMask"}},{"id":10,"type":"VAEEncode","pos":[1408,401],"size":{"0":190,"1":50},"flags":{},"order":37,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":702,"label":"图像"},{"name":"vae","type":"VAE","link":62,"label":"VAE"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[15],"shape":3,"label":"Latent","slot_index":0}],"properties":{"Node name for S&R":"VAEEncode"}},{"id":427,"type":"Paste By Mask","pos":[3810,250],"size":{"0":228.39999389648438,"1":120},"flags":{},"order":67,"mode":0,"inputs":[{"name":"image_base","type":"IMAGE","link":679,"label":"源图像"},{"name":"image_to_paste","type":"IMAGE","link":682,"label":"目标图像"},{"name":"mask","type":"IMAGE","link":675,"label":"遮罩"},{"name":"mask_mapping_optional","type":"MASK_MAPPING","link":null,"label":"遮罩映射"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[683],"shape":3,"label":"图像","slot_index":0}],"properties":{"Node name for S&R":"Paste By Mask"},"widgets_values":["resize"]},{"id":5,"type":"LoadImage","pos":[290,710],"size":{"0":410,"1":610},"flags":{},"order":8,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[352,680],"slot_index":0,"label":"图像"},{"name":"MASK","type":"MASK","links":[],"slot_index":1,"label":"遮罩"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["ComfyUI_temp_ameoo_00047_ (1).png","image"]},{"id":73,"type":"Image scale to side","pos":[-2866.729751889261,-166.55529258700707],"size":{"0":315,"1":130},"flags":{},"order":17,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":352,"label":"图像"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[207,211,353],"shape":3,"label":"图像","slot_index":0}],"properties":{"Node name for S&R":"Image scale to side"},"widgets_values":[1024,"Longest","nearest-exact","disabled"]},{"id":79,"type":"Image scale to side","pos":[-2539.729751889262,-160.55529258700707],"size":{"0":315,"1":130},"flags":{},"order":33,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":141,"label":"图像"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[206,702],"shape":3,"label":"图像","slot_index":0}],"properties":{"Node name for S&R":"Image scale to side"},"widgets_values":[1024,"Longest","nearest-exact","disabled"]},{"id":17,"type":"CheckpointLoaderSimple","pos":[1145,-95],"size":{"0":270,"1":100},"flags":{},"order":9,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[57,791],"slot_index":0,"label":"模型"},{"name":"CLIP","type":"CLIP","links":[59,60],"slot_index":1,"label":"CLIP"},{"name":"VAE","type":"VAE","links":[62,63],"slot_index":2,"label":"VAE"}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["SD15\\LEOSAM's MoonFilm _ 胶片风真实感大模型_2.0.safetensors"]},{"id":466,"type":"SaveImage","pos":[-1916.9104776307483,396.7270831412007],"size":{"0":314.9372863769531,"1":596.22314453125},"flags":{},"order":28,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":750,"slot_index":0}],"properties":{},"widgets_values":["ComfyUI"]},{"id":467,"type":"ScribblePreprocessor","pos":[-1919.9104776307483,57.7270831412008],"size":{"0":315,"1":58},"flags":{},"order":21,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":773}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[750,770],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ScribblePreprocessor"},"widgets_values":[512]},{"id":468,"type":"ControlNetLoader","pos":[-674.9104776307495,-105.27291685879925],"size":{"0":315,"1":58},"flags":{},"order":10,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[767],"slot_index":0}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["t2iadapter_color_sd14v1.pth"]},{"id":469,"type":"ControlNetLoader","pos":[-1482.9104776307497,-103.27291685879925],"size":{"0":315,"1":58},"flags":{},"order":11,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[759],"slot_index":0}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["control_v11p_sd15_lineart.pth"]},{"id":470,"type":"ColorPreprocessor","pos":[-675.9104776307495,20.72708314120088],"size":{"0":315,"1":58},"flags":{},"order":24,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":776}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[755,768],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ColorPreprocessor"},"widgets_values":[512]},{"id":471,"type":"LineArtPreprocessor","pos":[-1495.9104776307488,24.727083141200872],"size":{"0":315,"1":82},"flags":{},"order":22,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":774}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[754,760],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"LineArtPreprocessor"},"widgets_values":["disable",512]},{"id":472,"type":"ControlNetLoader","pos":[-1053.9104776307506,-107.27291685879925],"size":{"0":315,"1":58},"flags":{},"order":12,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[763],"slot_index":0}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["control_v11p_sd15_canny.pth"]},{"id":473,"type":"CannyEdgePreprocessor","pos":[-1055.9104776307506,-0.27291685879902694],"size":{"0":315,"1":106},"flags":{},"order":23,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":775}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[756,764],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CannyEdgePreprocessor"},"widgets_values":[350,450,512]},{"id":474,"type":"PreviewImage","pos":[-1481.9104776307497,385.7270831412007],"size":{"0":305.10382080078125,"1":597.6441040039062},"flags":{},"order":30,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":754}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":475,"type":"PreviewImage","pos":[-657.9104776307495,399.7270831412007],"size":{"0":323.6896057128906,"1":588.2020874023438},"flags":{},"order":32,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":755}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":476,"type":"PreviewImage","pos":[-1062.9104776307506,401.7270831412007],"size":{"0":320.1756591796875,"1":580.2020874023438},"flags":{},"order":31,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":756}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":477,"type":"ControlNetApplyAdvanced","pos":[-1488.9104776307493,150.72708314120095],"size":{"0":315,"1":166},"flags":{},"order":36,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":757},{"name":"negative","type":"CONDITIONING","link":758},{"name":"control_net","type":"CONTROL_NET","link":759},{"name":"image","type":"IMAGE","link":760}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[761],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[762],"shape":3,"slot_index":1}],"title":"Lineart Controlnet","properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[1,0,1]},{"id":478,"type":"ControlNetApplyAdvanced","pos":[-1058.9104776307506,153.72708314120095],"size":{"0":315,"1":166},"flags":{},"order":41,"mode":4,"inputs":[{"name":"positive","type":"CONDITIONING","link":761},{"name":"negative","type":"CONDITIONING","link":762},{"name":"control_net","type":"CONTROL_NET","link":763},{"name":"image","type":"IMAGE","link":764}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[765],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[766],"shape":3,"slot_index":1}],"title":"Canny Controlnet","properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[1,0.2,1]},{"id":480,"type":"ControlNetApplyAdvanced","pos":[-1934.9104776307483,166.72708314120092],"size":{"0":315,"1":166},"flags":{},"order":29,"mode":4,"inputs":[{"name":"positive","type":"CONDITIONING","link":780},{"name":"negative","type":"CONDITIONING","link":781},{"name":"control_net","type":"CONTROL_NET","link":769},{"name":"image","type":"IMAGE","link":770}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[757],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[758],"shape":3,"slot_index":1}],"title":"Scribble Controlnet","properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[1,0,1]},{"id":465,"type":"ControlNetLoader","pos":[-1904.8822182573392,-93.02924634897968],"size":{"0":315,"1":58},"flags":{},"order":13,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[769],"slot_index":0}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["control_v11p_sd15_scribble.pth"]},{"id":479,"type":"ControlNetApplyAdvanced","pos":[-667.9104776307494,144.72708314120095],"size":{"0":315,"1":166},"flags":{},"order":45,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":765},{"name":"negative","type":"CONDITIONING","link":766},{"name":"control_net","type":"CONTROL_NET","link":767},{"name":"image","type":"IMAGE","link":768}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[771],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[772],"shape":3,"slot_index":1}],"title":"LineArt Controlnet","properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[1,0,0.8]},{"id":15,"type":"ACN_AdvancedControlNetApply","pos":[-129.2502570373648,238.99968719634035],"size":{"0":310,"1":300},"flags":{},"order":52,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":771,"label":"正面条件"},{"name":"negative","type":"CONDITIONING","link":772,"label":"负面条件"},{"name":"control_net","type":"CONTROL_NET","link":22,"label":"ControlNet","slot_index":2},{"name":"image","type":"IMAGE","link":209,"label":"图像","slot_index":3},{"name":"mask_optional","type":"MASK","link":null,"label":"遮罩"},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":25,"label":"帧间隔","slot_index":5},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null,"label":""},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":26,"label":"weights_override"}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[708],"shape":3,"label":"正面条件","slot_index":0},{"name":"negative","type":"CONDITIONING","links":[784],"shape":3,"label":"负面条件","slot_index":1}],"properties":{"Node name for S&R":"ACN_AdvancedControlNetApply"},"widgets_values":[1,0,1]},{"id":4,"type":"VAEDecode","pos":[1912,411],"size":{"0":210,"1":46},"flags":{},"order":58,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":787,"label":"Latent","slot_index":0},{"name":"vae","type":"VAE","link":63,"label":"VAE"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[668],"slot_index":0,"label":"图像"}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":2,"type":"CLIPTextEncode","pos":[1439,-124],"size":{"0":400,"1":240},"flags":{"collapsed":false},"order":19,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":59,"label":"CLIP"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[780],"slot_index":0,"label":"条件"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["masterpiece, bestqulity,photorealistic, a lots of chinese gods gathering together to open a meetring, wearing colorful hanfu,very realistic pictures, best quality, best quality, Hyper realistic,, Chinese style, Leica lens,8k, Taoists, kodak porta 800, award winning masterpiece with incredible （insanely detailed）（exquisite face）), illustration, clear face, indoors, perfect lighting"]},{"id":3,"type":"CLIPTextEncode","pos":[1438,147],"size":{"0":410,"1":210},"flags":{"collapsed":false},"order":20,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":60,"label":"CLIP"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[781],"slot_index":0,"label":"条件"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["Easy Negative ng_deepnegative_v1_75t badhandv4 NSFW,  blurry,(deformed, distorted, disfigured:1.3), (stacked torsos:1.2), (totem pole:1.1), poorly drawn, bad anatomy, wrong anatomy, missing arms, missing legs, extra arms, extra legs, fused fingers, too many fingers, long neck, extra limb, missing limb, floating limbs, (mutated hands and fingers:1.4), disconnected limbs, mutation, mutated, ugly, disgusting, blurry, amputation, (extra fingers:1.2), (worst quality, low quality:1.3)out of frame, worst quality, low quality, jpeg artifacts, ugly, duplicate, morbid, mutilated, mutation, deformed, blurry, dehydrated, bad proportions, extra limbs, cloned face, disfigured, gross proportions, malformed limbs, red clothes"]},{"id":50,"type":"ImagePadForOutpaint","pos":[280,1450],"size":{"0":320,"1":174},"flags":{},"order":27,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":353,"label":"图像"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[141],"shape":3,"label":"图像","slot_index":0},{"name":"MASK","type":"MASK","links":[134,676],"shape":3,"label":"遮罩","slot_index":1}],"properties":{"Node name for S&R":"ImagePadForOutpaint"},"widgets_values":[0,0,1024,0,20],"color":"#322","bgcolor":"#533"},{"id":192,"type":"MaskToImage","pos":[2501,318],"size":{"0":210,"1":30},"flags":{},"order":59,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":320,"label":"遮罩"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[321],"shape":3,"label":"图像","slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":190,"type":"GrowMask","pos":[2503,177],"size":{"0":210,"1":82},"flags":{},"order":57,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":318,"label":"遮罩"}],"outputs":[{"name":"MASK","type":"MASK","links":[320,343],"shape":3,"slot_index":0,"label":"遮罩"}],"properties":{"Node name for S&R":"GrowMask"},"widgets_values":[10,true]},{"id":200,"type":"VAEDecode","pos":[3127,344],"size":{"0":210,"1":50},"flags":{},"order":66,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":792,"label":"Latent","slot_index":0},{"name":"vae","type":"VAE","link":714,"label":"VAE"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[679],"slot_index":0,"label":"图像"}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":449,"type":"VAELoader","pos":[3077,202],"size":{"0":315,"1":58},"flags":{},"order":14,"mode":0,"outputs":[{"name":"VAE","type":"VAE","links":[713,714],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAELoader"},"widgets_values":["vae-ft-mse-840000-ema-pruned.safetensors"]},{"id":205,"type":"VAEEncode","pos":[3099,97],"size":{"0":210,"1":46},"flags":{},"order":63,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":673,"label":"图像"},{"name":"vae","type":"VAE","link":713,"label":"VAE"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[342],"shape":3,"label":"Latent","slot_index":0}],"properties":{"Node name for S&R":"VAEEncode"}},{"id":206,"type":"SetLatentNoiseMask","pos":[3094,-43],"size":{"0":210,"1":46},"flags":{},"order":64,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":342,"label":"Latent"},{"name":"mask","type":"MASK","link":343,"label":"遮罩"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[790],"shape":3,"label":"Latent","slot_index":0}],"properties":{"Node name for S&R":"SetLatentNoiseMask"}},{"id":193,"type":"PreviewImage","pos":[2801,-80],"size":{"0":240,"1":310},"flags":{},"order":61,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":321,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":481,"type":"KSampler Adv. (Efficient)","pos":[1871,-135],"size":{"0":325,"1":634},"flags":{},"order":56,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":785},{"name":"positive","type":"CONDITIONING","link":783},{"name":"negative","type":"CONDITIONING","link":784},{"name":"latent_image","type":"LATENT","link":786},{"name":"optional_vae","type":"VAE","link":null},{"name":"script","type":"SCRIPT","link":null},{"name":"noise_seed","type":"INT","link":801,"widget":{"name":"noise_seed"}}],"outputs":[{"name":"MODEL","type":"MODEL","links":null,"shape":3},{"name":"CONDITIONING+","type":"CONDITIONING","links":[796],"shape":3,"slot_index":1},{"name":"CONDITIONING-","type":"CONDITIONING","links":[797],"shape":3,"slot_index":2},{"name":"LATENT","type":"LATENT","links":[787],"shape":3},{"name":"VAE","type":"VAE","links":null,"shape":3},{"name":"IMAGE","type":"IMAGE","links":null,"shape":3}],"properties":{"Node name for S&R":"KSampler Adv. (Efficient)"},"widgets_values":["enable",87007617989841,null,50,6,"euler_ancestral","normal",0,10000,"disable","auto","true"],"color":"#332233","bgcolor":"#553355","shape":1},{"id":483,"type":"PrimitiveNode","pos":[1860,-310],"size":{"0":210,"1":82},"flags":{},"order":15,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[799,801],"widget":{"name":"seed"},"slot_index":0}],"properties":{"Run widget replace on values":false},"widgets_values":[87007617989841,"randomize"]},{"id":482,"type":"KSampler (Efficient)","pos":[3420,-122],"size":{"0":325,"1":562},"flags":{},"order":65,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":791},{"name":"positive","type":"CONDITIONING","link":796},{"name":"negative","type":"CONDITIONING","link":797},{"name":"latent_image","type":"LATENT","link":790},{"name":"optional_vae","type":"VAE","link":null},{"name":"script","type":"SCRIPT","link":null},{"name":"seed","type":"INT","link":799,"widget":{"name":"seed"},"slot_index":6}],"outputs":[{"name":"MODEL","type":"MODEL","links":null,"shape":3},{"name":"CONDITIONING+","type":"CONDITIONING","links":null,"shape":3},{"name":"CONDITIONING-","type":"CONDITIONING","links":null,"shape":3},{"name":"LATENT","type":"LATENT","links":[792],"shape":3},{"name":"VAE","type":"VAE","links":null,"shape":3},{"name":"IMAGE","type":"IMAGE","links":null,"shape":3}],"properties":{"Node name for S&R":"KSampler (Efficient)"},"widgets_values":[87007617989841,null,50,6,"euler_ancestral","normal",1,"auto","true"],"color":"#332222","bgcolor":"#553333","shape":1},{"id":413,"type":"PreviewImage","pos":[733,689],"size":{"0":680,"1":620},"flags":{},"order":62,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":644,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":201,"type":"PreviewImage","pos":[1428,686],"size":{"0":674.23974609375,"1":609.1987915039062},"flags":{},"order":68,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":683,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":447,"type":"LoadImage","pos":[2271,687],"size":{"0":410,"1":610},"flags":{"collapsed":false},"order":16,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[773,774,775,776],"slot_index":0,"label":"图像"},{"name":"MASK","type":"MASK","links":[],"slot_index":1,"label":"遮罩"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["hor_combined_image_0_0 (1).jpg","image"]},{"id":428,"type":"Reroute","pos":[2260,-160],"size":[75,26],"flags":{},"order":35,"mode":0,"inputs":[{"name":"","type":"*","link":676,"label":""}],"outputs":[{"name":"","type":"MASK","links":[677,678],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":401,"type":"InvertMask","pos":[2252,-69],"size":{"0":200,"1":30},"flags":{},"order":39,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":677,"label":"遮罩"}],"outputs":[{"name":"MASK","type":"MASK","links":[629],"shape":3,"label":"遮罩","slot_index":0}],"properties":{"Node name for S&R":"InvertMask"}},{"id":412,"type":"Paste By Mask","pos":[2227,84],"size":{"0":228.39999389648438,"1":120},"flags":{},"order":60,"mode":0,"inputs":[{"name":"image_base","type":"IMAGE","link":668,"label":"源图像"},{"name":"image_to_paste","type":"IMAGE","link":681,"label":"目标图像"},{"name":"mask","type":"IMAGE","link":646,"label":"遮罩"},{"name":"mask_mapping_optional","type":"MASK_MAPPING","link":null,"label":"遮罩映射"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[644,673],"shape":3,"label":"图像","slot_index":0}],"properties":{"Node name for S&R":"Paste By Mask"},"widgets_values":["resize"]}],"links":[[15,10,0,11,0,"LATENT"],[22,18,0,15,2,"CONTROL_NET"],[25,22,1,15,5,"TIMESTEP_KEYFRAME"],[26,22,0,15,7,"CONTROL_NET_WEIGHTS"],[42,29,0,28,0,"IPADAPTER"],[43,30,0,28,1,"CLIP_VISION"],[47,34,0,31,0,"CLIP_VISION"],[50,33,0,32,1,"STYLE_MODEL"],[51,31,0,32,2,"CLIP_VISION_OUTPUT"],[57,17,0,28,3,"MODEL"],[59,17,1,2,0,"CLIP"],[60,17,1,3,0,"CLIP"],[62,17,2,10,1,"VAE"],[63,17,2,4,1,"VAE"],[134,50,1,76,0,"MASK"],[136,76,0,78,0,"IMAGE"],[141,50,0,79,0,"IMAGE"],[143,78,0,80,0,"IMAGE"],[206,79,0,46,0,"IMAGE"],[207,73,0,31,1,"IMAGE"],[209,46,0,15,3,"IMAGE"],[211,73,0,28,2,"IMAGE"],[213,80,0,117,0,"MASK"],[217,117,0,46,1,"MASK"],[218,117,0,11,1,"MASK"],[318,191,0,190,0,"MASK"],[320,190,0,192,0,"MASK"],[321,192,0,193,0,"IMAGE"],[322,117,0,194,0,"MASK"],[342,205,0,206,0,"LATENT"],[343,190,0,206,1,"MASK"],[352,5,0,73,0,"IMAGE"],[353,73,0,50,0,"IMAGE"],[629,401,0,405,0,"MASK"],[644,412,0,413,0,"IMAGE"],[646,405,0,412,2,"IMAGE"],[668,4,0,412,0,"IMAGE"],[673,412,0,205,0,"IMAGE"],[675,426,0,427,2,"IMAGE"],[676,50,1,428,0,"*"],[677,428,0,401,0,"MASK"],[678,428,0,425,0,"MASK"],[679,200,0,427,0,"IMAGE"],[680,5,0,429,0,"*"],[681,429,0,412,1,"IMAGE"],[682,429,0,427,1,"IMAGE"],[683,427,0,201,0,"IMAGE"],[688,425,0,434,0,"MASK"],[691,434,0,437,0,"MASK"],[693,437,0,426,0,"MASK"],[700,194,0,444,0,"MASK"],[701,444,0,191,0,"MASK"],[702,79,0,10,0,"IMAGE"],[708,15,0,32,0,"CONDITIONING"],[713,449,0,205,1,"VAE"],[714,449,0,200,1,"VAE"],[750,467,0,466,0,"IMAGE"],[754,471,0,474,0,"IMAGE"],[755,470,0,475,0,"IMAGE"],[756,473,0,476,0,"IMAGE"],[757,480,0,477,0,"CONDITIONING"],[758,480,1,477,1,"CONDITIONING"],[759,469,0,477,2,"CONTROL_NET"],[760,471,0,477,3,"IMAGE"],[761,477,0,478,0,"CONDITIONING"],[762,477,1,478,1,"CONDITIONING"],[763,472,0,478,2,"CONTROL_NET"],[764,473,0,478,3,"IMAGE"],[765,478,0,479,0,"CONDITIONING"],[766,478,1,479,1,"CONDITIONING"],[767,468,0,479,2,"CONTROL_NET"],[768,470,0,479,3,"IMAGE"],[769,465,0,480,2,"CONTROL_NET"],[770,467,0,480,3,"IMAGE"],[771,479,0,15,0,"CONDITIONING"],[772,479,1,15,1,"CONDITIONING"],[773,447,0,467,0,"IMAGE"],[774,447,0,471,0,"IMAGE"],[775,447,0,473,0,"IMAGE"],[776,447,0,470,0,"IMAGE"],[780,2,0,480,0,"CONDITIONING"],[781,3,0,480,1,"CONDITIONING"],[783,32,0,481,1,"CONDITIONING"],[784,15,1,481,2,"CONDITIONING"],[785,28,0,481,0,"MODEL"],[786,11,0,481,3,"LATENT"],[787,481,3,4,0,"LATENT"],[790,206,0,482,3,"LATENT"],[791,17,0,482,0,"MODEL"],[792,482,3,200,0,"LATENT"],[796,481,1,482,1,"CONDITIONING"],[797,481,2,482,2,"CONDITIONING"],[799,483,0,482,6,"INT"],[801,483,0,481,6,"INT"]],"groups":[{"title":"KSampler","bounding":[1130,-218,1070,684],"color":"#A88","font_size":24,"locked":true},{"title":"outpainting","bounding":[-2882,-242,679,733],"color":"#8AA","font_size":24,"locked":false},{"title":"cn-inpaint","bounding":[-143,-211,357,772],"color":"#88A","font_size":24,"locked":false},{"title":"IPA-Style Reference","bounding":[761,-218,365,702],"color":"#3f789e","font_size":24,"locked":false},{"title":"coadapter-Style Reference","bounding":[319,-216,413,546],"color":"#3f789e","font_size":24,"locked":true},{"title":"Group","bounding":[269,621,1900,734],"color":"#444","font_size":24,"locked":true},{"title":"Repair edges","bounding":[2484,-213,1547,652],"color":"#3f789e","font_size":24,"locked":true},{"title":"Group","bounding":[2224,-213,238,460],"color":"#3f789e","font_size":24,"locked":true},{"title":"Group","bounding":[266,1377,340,484],"color":"#3f789e","font_size":24,"locked":true},{"title":"ControlNet Group","bounding":[-1998,-240,1709,1279],"color":"#3f789e","font_size":24,"locked":false}],"config":{},"extra":{},"version":0.4}